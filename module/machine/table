<script type="text/template" id="listTemplate">
	<style type="text/css">
		.modal-body{
			max-height: 500px;
			overflow-y: auto;
		}
		.gotoTag{cursor: pointer;color:#337ab7;}
		.gotoTag:hover{text-decoration: underline;}
	</style>
	<table class="table table-hover">
		<thead>
			<tr>
				<th>id</th>
				<th>hostname</th>
				<th>ip</th>
				<th>isvm</th>
				<th width="20%">parentip</th>
				<th width="20%">idrac</th>
				<th>isEnable</th>
				<th>操作</th>
			</tr>
		</thead>
		<tbody>
			{{each list}}
			<tr>
				<td>{{$value.id}}</td>
				<td>{{$value.hostname}}</td>
				<td>{{$value.ip}}</td>
				<td>{{$value.isvm}}</td>
				<td class="editParentIp" title="双击修改" data-id="{{$value.id}}"><img src="/fe/img/edit.png" style="cursor: pointer;" alt="" />{{$value.parentip}}</td>
				<td class="editIdrac" title="双击修改" data-id="{{$value.id}}"><img src="/fe/img/edit.png" style="cursor: pointer;" alt="" />{{$value.idrac}}</td>
				<th>{{$value.isenable}}</th>
				<td>
					<input type="button" value="查看" title="服务器信息" data-id="{{$value.id}}" data-toggle="modal" data-target="#myModal" class="btn btn-success lookinfo" /> 
					{{if $value.isenable == 1}}
					<input type="button" value="disable" data-id="{{$value.id}}" class="btn btn-danger disable" /> 
					{{else}}
					<input type="button" value="enable" data-id="{{$value.id}}" class="btn btn-success enable" /> 
					{{/if}}
				</td>
			</tr>
			{{/each}}
		</tbody>
	</table>
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title" id="myModalLabel">服务器信息</h4>
				</div>
				<div class="modal-body">
					
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	
</script>
<script id="infotemplate" type="text/template">
	<div class="form-group">
		<label>ID:</label><span>{{id}}</span>
	</div>
	<div class="form-group">
		<label>hostname:</label><span>{{hostname}}</span>
	</div>
	<div class="form-group">
		<label>ip:</label><span>{{ip}}</span>
	</div>
	<div class="form-group">
		<label>isvm:</label><span>{{isvm}}</span>
	</div>
	<div class="form-group">
		<label>parentip:</label><a href="javascript:;" class="searchByParentIp" data-ip="{{parentip}}">{{parentip}}</a>
	</div>
	<div class="form-group">
		<label>idrac:</label><a href="javascript:;" class="searchByParentIp" data-ip="{{idrac}}">{{idrac}}</a>
	</div>
	<div class="form-group">
		<label>is_enable:</label><span>{{if isenable==1}}true{{else}}false{{/if}}</span>
	</div>
	<div class="form-group">
		<label>taglist :</label><br />
		<span>
			{{each taglist as $value $key}}
			<a class="gotoTag" href="javascript:;" data-id="{{$key}}">{{$value}}</a><br />
			{{/each}}
		</span>
	</div>
	<div class="form-group">
		<label>param:</label><span>{{message}}</span>
	</div>
</script>
